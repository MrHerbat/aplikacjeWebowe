@page
@model cw8.Pages.PrimeModel
<h1>Strona Index</h1>
<form method="post">
    <label asp-for="@Model.Count">Ile wyszukaÄ‡ liczb pierwszych?</label>
    <input asp-for="@Model.Count" type="number" min="0" value="0"/>
    <div>
        <input type="submit" value="Dodaj"/>
    </div>
</form>
<div>
    @ViewData["Message"]
    @if (@Model.Numbers != null)
    {
        <div>Oto pierwsze @Model.Count liczb pierwszych</div>
        var n = @Model.Numbers[Model.Numbers.Count - 1];
        var x = 0;
        var r = n % 30;
        while (n%30!=0)
        {
            n++;
        }
        <span> @r |</span>
        foreach (var value in @Model.Numbers as List<int>)
        {
            <span> @value |</span>
        }
        <br/>
        <table>
            @for (int i = 1; i <= n; i++)
            {
                if ((i - 1) % 30 == 0)
                {
                    <tr></tr>
                }

                if (x < @Model.Numbers.Count)
                {
                    if (i == @Model.Numbers[x])
                    {
                        <td class="redBg tborder"> @i </td>
                        x++;
                    }
                    else
                    {
                        <td class="tborder"> @i </td>
                    }
                }
                else
                {
                    <td class="grayBg"> @i </td>
                }
                
                

            }


        </table>
    }
</div>